{"version":3,"sources":["../../../../src/views/front/api/index.js"],"names":["auth","token","uni","getStorageSync","navigateTo","url","login","tableName","data","http","request","method","sendemail","email","sendsms","mobile","register","registerEmail","emailcode","registerSms","smscode","resetPass","username","session","list","page","add","save","update","updateBrowseDuration","id","duration","del","info","recommend","recommend2","upload","callback","chooseImage","count","sizeType","sourceType","success","res","uploadFile","base","filePath","tempFilePaths","name","header","uploadFileRes","result","JSON","parse","code","showToast","title","msg","icon","uploadMedia","chooseVideo","console","log","tempFilePath","defaultAddress","userid","option","columnName","follow","allPublicForm","limit","myForum","forumDetail","groupby","deleteRecords","paperid","faceMatch","security"],"mappings":"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","file":"index.js","sourcesContent":["import http from './http'\r\nimport base from './base'\r\n\r\n/**\r\n * 登陆校验\r\n */\r\nexport const auth = () => {\r\n\tlet token = uni.getStorageSync(\"token\");\r\n\tif (!uni.getStorageSync(\"token\")) {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '../login/login'\r\n\t\t})\r\n\t\treturn\r\n\t}\r\n}\r\n/**\r\n * 登陆\r\n */\r\nexport const login = (tableName, data) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/login`,\r\n\t\tmethod: 'GET',\r\n\t\tdata\r\n\t})\r\n}\r\n/**\r\n *  * 发送邮箱验证码\r\n *   */\r\nexport const sendemail = (tableName, email) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/sendemail?email=${email}`,\r\n\t\tmethod: 'GET'\r\n\t});\r\n}\r\n/**\r\n *  * 发送短信证码\r\n *   */\r\nexport const sendsms = (tableName, mobile) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/sendsms?mobile=${mobile}`,\r\n\t\tmethod: 'GET'\r\n\t});\r\n}\r\n/**\r\n *  * 注册\r\n *   */\r\nexport const register = (tableName, data) => {\r\n\tlet url = `${tableName}/register`;\r\n\treturn http.request({\r\n\t\turl: url,\r\n\t\tmethod: 'POST',\r\n\t\tdata\r\n\t})\r\n}\r\n/**\r\n *  * 邮箱注册\r\n *   */\r\nexport const registerEmail = (tableName, data, emailcode) => {\r\n    let url = `${tableName}/register?emailcode=${emailcode}`;\r\n\treturn http.request({\r\n\t\turl: url,\r\n\t\tmethod: 'POST',\r\n\t\tdata\r\n\t})\r\n}\r\n/**\r\n *  * 短信注册\r\n *   */\r\nexport const registerSms = (tableName, data, smscode) => {\r\n    let url = `${tableName}/register?smscode=${smscode}`;\r\n\treturn http.request({\r\n\t\turl: url,\r\n\t\tmethod: 'POST',\r\n\t\tdata\r\n\t})\r\n}\r\n/**\r\n * 重置密码\r\n */\r\nexport const resetPass = (tableName, username) => {\r\n\tlet data = {\r\n\t\tusername: username\r\n\t}\r\n\treturn http.request({\r\n\t\turl: `${tableName}/resetPass`,\r\n\t\tmethod: 'GET',\r\n\t\tdata\r\n\t})\r\n}\r\n/**\r\n * 获取登陆用户信息\r\n */\r\nexport const session = (tableName) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/session`,\r\n\t\tmethod: 'GET'\r\n\t})\r\n}\r\n/**\r\n * 查询\r\n */\r\nexport const list = (tableName, data) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/list`,\r\n\t\tmethod: 'GET',\r\n\t\tdata\r\n\t});\r\n}\r\n/**\r\n * 查询 page\r\n */\r\nexport const page = (tableName, data) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/page`,\r\n\t\tmethod: 'GET',\r\n\t\tdata\r\n\t});\r\n}\r\n/**\r\n * 保存\r\n */\r\nexport const add = (tableName, data) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/add`,\r\n\t\tmethod: 'POST',\r\n\t\tdata\r\n\t});\r\n}\r\n// 保存\r\nexport const save = (tableName, data) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/save`,\r\n\t\tmethod: 'POST',\r\n\t\tdata\r\n\t});\r\n}\r\n/**\r\n * 更新\r\n */\r\nexport const update = (tableName, data) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/update`,\r\n\t\tmethod: 'POST',\r\n\t\tdata\r\n\t});\r\n}\r\nexport const updateBrowseDuration = (tableName, id, duration, data) => {\r\n    return http.request({\r\n        url: `${tableName}/updateBrowseDuration/`+id+\"?duration=\"+duration,\r\n        method: 'POST',\r\n        data\r\n    });\r\n}\r\n/**\r\n * 删除\r\n */\r\nexport const del = (tableName, data) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/delete`,\r\n\t\tmethod: 'POST',\r\n\t\tdata\r\n\t});\r\n}\r\n/**\r\n * 单条信息查询\r\n */\r\nexport const info = (tableName, id) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/detail/${id}`,\r\n\t\tmethod: 'GET'\r\n\t});\r\n}\r\n/**\r\n * 智能推荐\r\n */\r\nexport const recommend = (tableName,data) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/autoSort`,\r\n\t\tmethod: 'get',\r\n\t\tdata\r\n\t});\r\n}\r\n/**\r\n * 智能推荐(按购买类型推荐)\r\n */\r\nexport const recommend2 = (tableName,data) => {\r\n\treturn http.request({\r\n\t\turl: `${tableName}/autoSort2`,\r\n\t\tmethod: 'get',\r\n\t\tdata\r\n\t});\r\n}\r\n/**\r\n * 上传\r\n */\r\nexport const upload = (callback) => {\r\n\tuni.chooseImage({\r\n\t\tcount: 4, //默认9\r\n\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\tsourceType: ['album'], //从相册选择\r\n\t\tsuccess: (res) => {\r\n\t\t\tuni.uploadFile({\r\n\t\t\t\turl: `${base.url}file/upload`, //仅为示例，非真实的接口地址\r\n\t\t\t\tfilePath: res.tempFilePaths[0],\r\n\t\t\t\tname: 'file',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Token': uni.getStorageSync(\"token\")\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t// console.log(uploadFileRes)\r\n\t\t\t\t\tlet result = JSON.parse(uploadFileRes.data);\r\n\t\t\t\t\tif (result.code == 0) {\r\n\t\t\t\t\t\tcallback(result);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: result.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\nexport const uploadMedia = (callback) => {\r\n\tuni.chooseVideo({\r\n\t\tcount: 1,\r\n\t\tsourceType: ['camera', 'album'],\r\n\t\tsuccess: function(res) {\r\n\t\t\tconsole.log(res)\r\n\t\t\tuni.uploadFile({\r\n\t\t\t\turl: `${base.url}file/upload`, //仅为示例，非真实的接口地址\r\n\t\t\t\tfilePath: res.tempFilePath,\r\n\t\t\t\tname: 'file',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Token': uni.getStorageSync(\"token\")\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t// console.log(uploadFileRes)\r\n\t\t\t\t\tlet result = JSON.parse(uploadFileRes.data);\r\n\t\t\t\t\tif (result.code == 0) {\r\n\t\t\t\t\t\tcallback(result);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: result.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * 获取默认地址\r\n */\r\nexport const defaultAddress = (userid) => {\r\n\treturn http.request({\r\n\t\turl: `address/default?userid=${userid}`,\r\n\t\tmethod: 'GET'\r\n\t});\r\n}\r\n/**\r\n * 联动查询\r\n * @param {*} tableName \r\n * @param {*} columnName \r\n * @param {*} data \r\n */\r\nexport const option = (tableName, columnName, data) => {\r\n\treturn http.request({\r\n\t\turl: `option/${tableName}/${columnName}`,\r\n\t\tmethod: 'GET',\r\n\t\tdata\r\n\t});\r\n}\r\n/**\r\n * 随\r\n * @param {*} tableName \r\n * @param {*} columnName \r\n * @param {*} data \r\n */\r\nexport const follow = (tableName, columnName, data) => {\r\n\treturn http.request({\r\n\t\turl: `follow/${tableName}/${columnName}`,\r\n\t\tmethod: 'GET',\r\n\t\tdata\r\n\t});\r\n}\r\n// 论坛接口\r\nexport const allPublicForm = (page = 1, limit = 10, title='%%') => {\r\n\tlet data = {\r\n\t\tpage: page,\r\n\t\tlimit: limit,\r\n\t\ttitle: title\r\n\t}\r\n\treturn http.request({\r\n\t\turl: `forum/flist?parentid=0&isdone=开放&sort=addtime&order=desc`,\r\n\t\tmethod: 'GET',\r\n\t\tdata\r\n\t});\r\n}\r\n// 我的帖子\r\nexport const myForum = (page = 1, limit = 10) => {\r\n\tlet data = {\r\n\t\tpage: page,\r\n\t\tlimit: limit\r\n\t}\r\n\treturn http.request({\r\n\t\turl: `forum/page?parentid=0&sort=addtime&order=desc`,\r\n\t\tmethod: 'GET',\r\n\t\tdata\r\n\t});\r\n}\r\nexport const forumDetail = (id) => {\r\n\treturn http.request({\r\n\t\turl: `forum/list/${id}`,\r\n\t\tmethod: 'GET',\r\n\t});\r\n}\r\nexport const groupby = () => {\r\n\treturn http.request({\r\n\t\turl: `examrecord/groupby`,\r\n\t\tmethod: 'GET',\r\n\t});\r\n}\r\nexport const deleteRecords = (userid, paperid) => {\r\n\treturn http.request({\r\n\t\turl: `examrecord/deleteRecords?userid=${userid}&paperid=${paperid}`,\r\n\t\tmethod: 'POST',\r\n\t});\r\n}\r\nexport const faceMatch = (data) => {\r\n    return http.request({\r\n        url: `matchFace`,\r\n        method: 'GET',\r\n        data\r\n    });\r\n}\r\nexport const security = (tableName, data) => {\r\n    return http.request({\r\n        url: `${tableName}/security`,\r\n        method: 'GET',\r\n        data\r\n    });\r\n}\r\nexport default {\r\n\tlogin, // 登陆\r\n\tsendemail, //发送邮箱验证码\r\n\tsendsms, //发送短信验证码\r\n\tregister, //注册\r\n\tregisterEmail, //邮箱注册\r\n\tregisterSms, //短信注册\r\n\tresetPass, // 重置\r\n\tauth, // 校验\r\n\tsession, // 个人信息\r\n\tlist, // 查询\r\n\tpage, // 查询 page\r\n\tadd, // 添加\r\n\tupdate, // 修改\r\n    updateBrowseDuration,\r\n\tdel, // 删除\r\n\tinfo, // 单条信息查询,\r\n\trecommend, // 智能推荐\r\n\trecommend2, // 智能推荐(按购买类型推荐)\r\n\tdefaultAddress, // 默认地址\r\n\tsave, // 保存\r\n\tupload, // 上传\r\n\toption, // 联动查询\r\n\tfollow, // 随\r\n\tallPublicForm,\r\n\tmyForum,\r\n\tforumDetail,\r\n\tgroupby,\r\n\tdeleteRecords,\r\n    faceMatch,\r\n\tuploadMedia,\r\n    security\r\n}\r\n"]}