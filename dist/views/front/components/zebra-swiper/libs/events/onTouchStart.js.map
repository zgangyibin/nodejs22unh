{"version":3,"sources":["../../../../../../../src/views/front/components/zebra-swiper/libs/events/onTouchStart.js"],"names":["onTouchStart","event","swiper","data","touchEventsData","params","touches","enabled","animating","preventInteractionOnTransition","cssMode","loop","loopFix","e","originalEvent","isTouchEvent","type","which","button","isTouched","isMoved","swipingClassHasValue","noSwipingClass","noSwipingSelector","isTargetShadow","target","shadowRoot","noSwiping","allowClick","swipeHandler","$targetEl","closest","currentX","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","Object","assign","allowTouchCallbacks","isScrolling","undefined","startMoving","touchStartTime","updateSize","swipeDirection","threshold","allowThresholdMove","emit"],"mappings":"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","file":"onTouchStart.js","sourcesContent":["import {\r\n\tnow\r\n} from '../../shared/utils.js';\r\n\r\nexport default function onTouchStart(event) {\r\n\tconst swiper = this;\r\n\tconst data = swiper.touchEventsData;\r\n\tconst {\r\n\t\tparams,\r\n\t\ttouches,\r\n\t\tenabled\r\n\t} = swiper;\r\n\tif (!enabled) return;\r\n\r\n\tif (swiper.animating && params.preventInteractionOnTransition) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!swiper.animating && params.cssMode && params.loop) {\r\n\t\tswiper.loopFix();\r\n\t}\r\n\r\n\tlet e = event;\r\n\tif (e.originalEvent) e = e.originalEvent;\r\n\r\n\tdata.isTouchEvent = e.type === 'touchstart' || e.type === 'touchStart' || e.type === 'onTouchstart';\r\n\tif (!data.isTouchEvent && 'which' in e && e.which === 3) return;\r\n\tif (!data.isTouchEvent && 'button' in e && e.button > 0) return;\r\n\tif (data.isTouched && data.isMoved) return; // change target el for shadow root component\r\n\r\n\tconst swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\r\n\r\n\r\n\tconst noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\r\n\tconst isTargetShadow = !!(e.target && e.target\r\n\t\t.shadowRoot\r\n\t);\r\n\r\n\tif (params.noSwiping) {\r\n\t\tswiper.allowClick = true;\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (params.swipeHandler) {\r\n\t\tif (!$targetEl.closest(params.swipeHandler)[0]) return;\r\n\t}\r\n\r\n\ttouches.currentX = (e.type === 'touchstart' || e.type === 'touchStart' || e.type === 'onTouchstart') ? e.touches[0]\r\n\t\t.pageX : e.pageX;\r\n\ttouches.currentY = (e.type === 'touchstart' || e.type === 'touchStart' || e.type === 'onTouchstart') ? e.touches[0]\r\n\t\t.pageY : e.pageY;\r\n\tconst startX = touches.currentX;\r\n\tconst startY = touches\r\n\t\t.currentY;\r\n\r\n\tconst edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\r\n\tconst edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\r\n\r\n\tObject.assign(data, {\r\n\t\tisTouched: true,\r\n\t\tisMoved: false,\r\n\t\tallowTouchCallbacks: true,\r\n\t\tisScrolling: undefined,\r\n\t\tstartMoving: undefined\r\n\t});\r\n\ttouches.startX = startX;\r\n\ttouches.startY = startY;\r\n\tdata.touchStartTime = now();\r\n\tswiper.allowClick = true;\r\n\tswiper.updateSize();\r\n\tswiper.swipeDirection = undefined;\r\n\tif (params.threshold > 0) data.allowThresholdMove = false;\r\n\t// if (e.type !== 'touchstart' && e.type !== 'touchStart') {\r\n\t// let preventDefault = true;\r\n\t// if ($targetEl.is(data.focusableElements)) preventDefault = false;\r\n\r\n\t// const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\r\n\r\n\t// if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\r\n\t// e.preventDefault();\r\n\t// }\r\n\t// }\r\n\r\n\tswiper.emit('touch-start', e);\r\n}\n"]}