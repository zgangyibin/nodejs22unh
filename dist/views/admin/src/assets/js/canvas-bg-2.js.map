{"version":3,"sources":["../../../../../../src/views/admin/src/assets/js/canvas-bg-2.js"],"names":["canvasBg","w","window","innerWidth","h","innerHeight","ctx","document","getElementById","addEventListener","resize","width","height","ctxfr","getContext","radMin","radMax","filledCircle","concentricCircle","radThreshold","speedMin","speedMax","maxOpacity","colors","bgColors","circleBorder","backgroundLine","backgroundMlt","linkDist","Math","min","canvas","lineBorder","maxCircles","points","pointsBack","i","push","Circle","circleExp","circleExpMax","circleExpMin","circleExpSp","circlePulse","background","x","randRange","y","radius","hyperRange","filled","randint","color","length","borderColor","opacity","speed","speedAngle","random","PI","speedx","cos","speedy","sin","spacex","abs","spacey","ttl","prototype","init","call","a","b","floor","drawCircle","circle","beginPath","arc","lineWidth","max","strokeStyle","join","fillStyle","fill","stroke","requestAnimationFrame","draw","globalCompositeOperation","clearRect","save","translate","renderPoints","arr","xEscape","yEscape","j","deltax","deltay","dist","pow","xi","yi","xj","yj","moveTo","lineTo","samecolor","restore"],"mappings":"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","file":"canvas-bg-2.js","sourcesContent":["export default function canvasBg(){\r\n\tvar w = window.innerWidth;\r\n\tvar h = window.innerHeight;\r\n\tvar ctx = document.getElementById('canvas');\r\n\t\r\n\twindow.addEventListener('load', resize);\r\n\twindow.addEventListener('resize', resize, false);\r\n\t\r\n\tfunction resize() {\r\n\t\tctx.width = w = window.innerWidth;\r\n\t\tctx.height = h = window.innerHeight;\r\n\t}\r\n\t\r\n\tresize();\r\n\t\r\n\tlet ctxfr = ctx.getContext('2d');\r\n\t\r\n\t// min and max radius, radius threshold and percentage of filled circles\r\n\tvar radMin = 5,\r\n\t\tradMax = 125,\r\n\t\tfilledCircle = 60, //percentage of filled circles\r\n\t\tconcentricCircle = 30, //percentage of concentric circles\r\n\t\tradThreshold = 25; //IFF special, over this radius concentric, otherwise filled\r\n\t\r\n\t//min and max speed to move\r\n\tvar speedMin = 0.3,\r\n\t\tspeedMax = 2.5;\r\n\t\r\n\t//max reachable opacity for every circle and blur effect\r\n\tvar maxOpacity = 0.6;\r\n\t\r\n\t//default palette choice\r\n\tvar colors = ['52,168,83', '117,95,147', '199,108,23', '194,62,55', '0,172,212', '120,120,120'],\r\n\t\tbgColors = ['52,168,83', '117,95,147', '199,108,23', '194,62,55', '0,172,212', '120,120,120'],\r\n\t\tcircleBorder = 10,\r\n\t\tbackgroundLine = bgColors[0];\r\n\tvar backgroundMlt = 0.85;\r\n\t\r\n\t//min distance for links\r\n\tvar linkDist = Math.min(canvas.width, canvas.height) / 2.4,\r\n\t\tlineBorder = 2.5;\r\n\t\r\n\t//most importantly: number of overall circles and arrays containing them\r\n\tvar maxCircles = 12,\r\n\t\tpoints = [],\r\n\t\tpointsBack = [];\r\n\t\r\n\t//populating the screen\r\n\tfor (var i = 0; i < maxCircles * 2; i++) points.push(new Circle());\r\n\tfor (var i = 0; i < maxCircles; i++) pointsBack.push(new Circle(true));\r\n\t\r\n\t//experimental vars\r\n\tvar circleExp = 1,\r\n\t\tcircleExpMax = 1.003,\r\n\t\tcircleExpMin = 0.997,\r\n\t\tcircleExpSp = 0.00004,\r\n\t\tcirclePulse = false;\r\n\t\r\n\t//circle class\r\n\tfunction Circle(background) {\r\n\t\t//if background, it has different rules\r\n\t\tthis.background = (background || false);\r\n\t\tthis.x = randRange(-canvas.width / 2, canvas.width / 2);\r\n\t\tthis.y = randRange(-canvas.height / 2, canvas.height / 2);\r\n\t\tthis.radius = background ? hyperRange(radMin, radMax) * backgroundMlt : hyperRange(radMin, radMax);\r\n\t\tthis.filled = this.radius < radThreshold ? (randint(0, 100) > filledCircle ? false : 'full') : (randint(0, 100) >\r\n\t\t\tconcentricCircle ? false : 'concentric');\r\n\t\tthis.color = background ? bgColors[randint(0, bgColors.length - 1)] : colors[randint(0, colors.length - 1)];\r\n\t\tthis.borderColor = background ? bgColors[randint(0, bgColors.length - 1)] : colors[randint(0, colors.length - 1)];\r\n\t\tthis.opacity = 0.05;\r\n\t\tthis.speed = (background ? randRange(speedMin, speedMax) / backgroundMlt : randRange(speedMin, speedMax)); // * (radMin / this.radius);\r\n\t\tthis.speedAngle = Math.random() * 2 * Math.PI;\r\n\t\tthis.speedx = Math.cos(this.speedAngle) * this.speed;\r\n\t\tthis.speedy = Math.sin(this.speedAngle) * this.speed;\r\n\t\tvar spacex = Math.abs((this.x - (this.speedx < 0 ? -1 : 1) * (canvas.width / 2 + this.radius)) / this.speedx),\r\n\t\t\tspacey = Math.abs((this.y - (this.speedy < 0 ? -1 : 1) * (canvas.height / 2 + this.radius)) / this.speedy);\r\n\t\tthis.ttl = Math.min(spacex, spacey);\r\n\t};\r\n\t\r\n\tCircle.prototype.init = function() {\r\n\t\tCircle.call(this, this.background);\r\n\t}\r\n\t\r\n\t//support functions\r\n\t//generate random int a<=x<=b\r\n\tfunction randint(a, b) {\r\n\t\treturn Math.floor(Math.random() * (b - a + 1) + a);\r\n\t}\r\n\t//generate random float\r\n\tfunction randRange(a, b) {\r\n\t\treturn Math.random() * (b - a) + a;\r\n\t}\r\n\t//generate random float more likely to be close to a\r\n\tfunction hyperRange(a, b) {\r\n\t\treturn Math.random() * Math.random() * Math.random() * (b - a) + a;\r\n\t}\r\n\t\r\n\t//rendering function\r\n\tfunction drawCircle(ctx, circle) {\r\n\t\t//circle.radius *= circleExp;\r\n\t\tvar radius = circle.background ? circle.radius *= circleExp : circle.radius /= circleExp;\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(circle.x, circle.y, radius * circleExp, 0, 2 * Math.PI, false);\r\n\t\tctx.lineWidth = Math.max(1, circleBorder * (radMin - circle.radius) / (radMin - radMax));\r\n\t\tctx.strokeStyle = ['rgba(', circle.borderColor, ',', circle.opacity, ')'].join('');\r\n\t\tif (circle.filled == 'full') {\r\n\t\t\tctx.fillStyle = ['rgba(', circle.borderColor, ',', circle.background ? circle.opacity * 0.8 : circle.opacity, ')']\r\n\t\t\t\t.join('');\r\n\t\t\tctx.fill();\r\n\t\t\tctx.lineWidth = 0;\r\n\t\t\tctx.strokeStyle = ['rgba(', circle.borderColor, ',', 0, ')'].join('');\r\n\t\t}\r\n\t\tctx.stroke();\r\n\t\tif (circle.filled == 'concentric') {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(circle.x, circle.y, radius / 2, 0, 2 * Math.PI, false);\r\n\t\t\tctx.lineWidth = Math.max(1, circleBorder * (radMin - circle.radius) / (radMin - radMax));\r\n\t\t\tctx.strokeStyle = ['rgba(', circle.color, ',', circle.opacity, ')'].join('');\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t\tcircle.x += circle.speedx;\r\n\t\tcircle.y += circle.speedy;\r\n\t\tif (circle.opacity < (circle.background ? maxOpacity : 1)) circle.opacity += 0.01;\r\n\t\tcircle.ttl--;\r\n\t}\r\n\t\r\n\t//initializing function\r\n\tfunction init() {\r\n\t\twindow.requestAnimationFrame(draw);\r\n\t}\r\n\t\r\n\t//rendering function\r\n\tfunction draw() {\r\n\t\r\n\t\tif (circlePulse) {\r\n\t\t\tif (circleExp < circleExpMin || circleExp > circleExpMax) circleExpSp *= -1;\r\n\t\t\tcircleExp += circleExpSp;\r\n\t\t}\r\n\t\r\n\t\tctxfr.globalCompositeOperation = 'destination-over';\r\n\t\tctxfr.clearRect(0, 0, canvas.width, canvas.height); // clear canvas\r\n\t\r\n\t\tctxfr.save();\r\n\t\tctxfr.translate(canvas.width / 2, canvas.height / 2);\r\n\t\r\n\t\t//function to render each single circle, its connections and to manage its out of boundaries replacement\r\n\t\tfunction renderPoints(ctx, arr) {\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar circle = arr[i];\r\n\t\t\t\t//checking if out of boundaries\r\n\t\t\t\tif (circle.ttl < 0) {}\r\n\t\t\t\tvar xEscape = canvas.width / 2 + circle.radius,\r\n\t\t\t\t\tyEscape = canvas.height / 2 + circle.radius;\r\n\t\t\t\tif (circle.ttl < -20) arr[i].init(arr[i].background);\r\n\t\t\t\t//if (Math.abs(circle.y) > yEscape || Math.abs(circle.x) > xEscape) arr[i].init(arr[i].background);\r\n\t\t\t\tdrawCircle(ctx, circle);\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < arr.length - 1; i++) {\r\n\t\t\t\tfor (var j = i + 1; j < arr.length; j++) {\r\n\t\t\t\t\tvar deltax = arr[i].x - arr[j].x;\r\n\t\t\t\t\tvar deltay = arr[i].y - arr[j].y;\r\n\t\t\t\t\tvar dist = Math.pow(Math.pow(deltax, 2) + Math.pow(deltay, 2), 0.5);\r\n\t\t\t\t\t//if the circles are overlapping, no laser connecting them\r\n\t\t\t\t\tif (dist <= arr[i].radius + arr[j].radius) continue;\r\n\t\t\t\t\t//otherwise we connect them only if the dist is < linkDist\r\n\t\t\t\t\tif (dist < linkDist) {\r\n\t\t\t\t\t\tvar xi = (arr[i].x < arr[j].x ? 1 : -1) * Math.abs(arr[i].radius * deltax / dist);\r\n\t\t\t\t\t\tvar yi = (arr[i].y < arr[j].y ? 1 : -1) * Math.abs(arr[i].radius * deltay / dist);\r\n\t\t\t\t\t\tvar xj = (arr[i].x < arr[j].x ? -1 : 1) * Math.abs(arr[j].radius * deltax / dist);\r\n\t\t\t\t\t\tvar yj = (arr[i].y < arr[j].y ? -1 : 1) * Math.abs(arr[j].radius * deltay / dist);\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(arr[i].x + xi, arr[i].y + yi);\r\n\t\t\t\t\t\tctx.lineTo(arr[j].x + xj, arr[j].y + yj);\r\n\t\t\t\t\t\tvar samecolor = arr[i].color == arr[j].color;\r\n\t\t\t\t\t\tctx.strokeStyle = [\"rgba(\", arr[i].borderColor, \",\", Math.min(arr[i].opacity, arr[j].opacity) * ((linkDist -\r\n\t\t\t\t\t\t\tdist) / linkDist), \")\"].join(\"\");\r\n\t\t\t\t\t\tctx.lineWidth = (arr[i].background ? lineBorder * backgroundMlt : lineBorder) * ((linkDist - dist) / linkDist); //*((linkDist-dist)/linkDist);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\trenderPoints(ctxfr, points);\r\n\t\tctxfr.restore();\r\n\t\r\n\t\twindow.requestAnimationFrame(draw);\r\n\t}\r\n\t\r\n\tinit();\r\n}"]}