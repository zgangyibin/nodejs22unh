{"version":3,"sources":["../../../../../../../src/views/front/components/zebra-swiper/libs/events/onTouchMove.js"],"names":["onTouchMove","event","swiper","data","touchEventsData","params","touches","rtl","rtlTranslate","enabled","e","originalEvent","isTouched","startMoving","isScrolling","emit","isTouchEvent","type","targetTouch","changedTouches","pageX","pageY","preventedByNestedSwiper","startX","startY","allowTouchMove","allowClick","Object","assign","currentX","currentY","touchStartTime","touchReleaseOnEdges","loop","isVertical","translate","maxTranslate","minTranslate","isMoved","allowTouchCallbacks","length","diffX","diffY","threshold","Math","sqrt","touchAngle","isHorizontal","atan2","abs","PI","cssMode","cancelable","preventDefault","touchMoveStopPropagation","nested","stopPropagation","loopFix","startTranslate","getTranslate","setTransition","animating","$wrapperEl","allowMomentumBounce","grabCursor","allowSlideNext","allowSlidePrev","setGrabCursor","diff","touchRatio","swipeDirection","currentTranslate","disableParentSwiper","resistanceRatio","resistance","allowThresholdMove","followFinger","freeMode","watchSlidesProgress","updateActiveIndex","updateSlidesClasses","updateProgress","setTranslate"],"mappings":"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","file":"onTouchMove.js","sourcesContent":["import {\r\n\tnow\r\n} from '../../shared/utils.js';\r\nexport default function onTouchMove(event) {\r\n\tconst swiper = this;\r\n\tconst data = swiper.touchEventsData;\r\n\tconst {\r\n\t\tparams,\r\n\t\ttouches,\r\n\t\trtlTranslate: rtl,\r\n\t\tenabled\r\n\t} = swiper;\r\n\tif (!enabled) return;\r\n\tlet e = event;\r\n\tif (e.originalEvent) e = e.originalEvent;\r\n\r\n\tif (!data.isTouched) {\r\n\t\tif (data.startMoving && data.isScrolling) {\r\n\t\t\tswiper.emit('touchMoveOpposite', e);\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (data.isTouchEvent && e.type !== 'touchmove' && e.type !== 'touchMove' && e.type !== 'onTouchmove') return;\r\n\tconst targetTouch = (e.type === 'touchmove' || e.type === 'touchMove' || e.type === 'onTouchmove') && e.touches && (\r\n\t\te.touches[0] || e\r\n\t\t.changedTouches[0]);\r\n\tconst pageX = (e.type === 'touchmove' || e.type === 'touchMove' || e.type === 'onTouchmove') ? targetTouch.pageX : e\r\n\t\t.pageX;\r\n\tconst pageY = (e.type === 'touchmove' || e.type === 'touchMove' || e.type === 'onTouchmove') ? targetTouch.pageY : e\r\n\t\t.pageY;\r\n\r\n\tif (e.preventedByNestedSwiper) {\r\n\t\ttouches.startX = pageX;\r\n\t\ttouches.startY = pageY;\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!swiper.allowTouchMove) {\r\n\t\tswiper.allowClick = false;\r\n\r\n\t\tif (data.isTouched) {\r\n\t\t\tObject.assign(touches, {\r\n\t\t\t\tstartX: pageX,\r\n\t\t\t\tstartY: pageY,\r\n\t\t\t\tcurrentX: pageX,\r\n\t\t\t\tcurrentY: pageY\r\n\t\t\t});\r\n\t\t\tdata.touchStartTime = now();\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\r\n\t\tif (swiper.isVertical()) {\r\n\t\t\tif (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper\r\n\t\t\t\t.translate >= swiper.minTranslate()) {\r\n\t\t\t\tdata.isTouched = false;\r\n\t\t\t\tdata.isMoved = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX &&\r\n\t\t\tswiper.translate >= swiper.minTranslate()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t// if (data.isTouchEvent && document.activeElement) {\r\n\t//   if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\r\n\t//     data.isMoved = true;\r\n\t//     swiper.allowClick = false;\r\n\t//     return;\r\n\t//   }\r\n\t// }\r\n\r\n\tif (data.allowTouchCallbacks) {\r\n\t\tswiper.emit('touch-move', e);\r\n\t}\r\n\r\n\tif (e.touches && e.touches.length > 1) return;\r\n\ttouches.currentX = pageX;\r\n\ttouches.currentY = pageY;\r\n\tconst diffX = touches.currentX - touches.startX;\r\n\tconst diffY = touches.currentY - touches.startY;\r\n\tif (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\r\n\r\n\tif (typeof data.isScrolling === 'undefined') {\r\n\t\tlet touchAngle;\r\n\r\n\t\tif (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX ===\r\n\t\t\ttouches.startX) {\r\n\t\t\tdata.isScrolling = false;\r\n\t\t} else {\r\n\t\t\tif (diffX * diffX + diffY * diffY >= 25) {\r\n\t\t\t\ttouchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\r\n\t\t\t\tdata.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params\r\n\t\t\t\t\t.touchAngle;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (data.isScrolling) {\r\n\t\tswiper.emit('touchMoveOpposite', e);\r\n\t}\r\n\r\n\tif (typeof data.startMoving === 'undefined') {\r\n\t\tif (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\r\n\t\t\tdata.startMoving = true;\r\n\t\t}\r\n\t}\r\n\r\n\tif (data.isScrolling) {\r\n\t\tdata.isTouched = false;\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!data.startMoving) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tswiper.allowClick = false;\r\n\r\n\tif (!params.cssMode && e.cancelable) {\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\tif (params.touchMoveStopPropagation && !params.nested) {\r\n\t\te.stopPropagation();\r\n\t}\r\n\r\n\tif (!data.isMoved) {\r\n\t\tif (params.loop && !params.cssMode) {\r\n\t\t\tswiper.loopFix();\r\n\t\t}\r\n\r\n\t\tdata.startTranslate = swiper.getTranslate();\r\n\t\tswiper.setTransition(0);\r\n\r\n\t\tif (swiper.animating) {\r\n\t\t\tswiper.$wrapperEl.emit('transitionend', [swiper]);\r\n\t\t}\r\n\r\n\t\tdata.allowMomentumBounce = false;\r\n\r\n\t\tif (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\r\n\t\t\tswiper.setGrabCursor(true);\r\n\t\t}\r\n\r\n\t\tswiper.emit('sliderFirstMove', e);\r\n\t}\r\n\r\n\tswiper.emit('sliderMove', e);\r\n\tdata.isMoved = true;\r\n\tlet diff = swiper.isHorizontal() ? diffX : diffY;\r\n\ttouches.diff = diff;\r\n\tdiff *= params.touchRatio;\r\n\tif (rtl) diff = -diff;\r\n\tswiper.swipeDirection = diff > 0 ? 'prev' : 'next';\r\n\tdata.currentTranslate = diff + data.startTranslate;\r\n\tlet disableParentSwiper = true;\r\n\tlet resistanceRatio = params.resistanceRatio;\r\n\r\n\tif (params.touchReleaseOnEdges) {\r\n\t\tresistanceRatio = 0;\r\n\t}\r\n\r\n\tif (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\r\n\t\tdisableParentSwiper = false;\r\n\t\tif (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data\r\n\t\t\t.startTranslate + diff) ** resistanceRatio;\r\n\t} else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\r\n\t\tdisableParentSwiper = false;\r\n\t\tif (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data\r\n\t\t\t.startTranslate - diff) ** resistanceRatio;\r\n\t}\r\n\r\n\tif (disableParentSwiper) {\r\n\t\te.preventedByNestedSwiper = true;\r\n\t}\r\n\r\n\r\n\tif (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\r\n\t\tdata.currentTranslate = data.startTranslate;\r\n\t}\r\n\r\n\tif (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\r\n\t\tdata.currentTranslate = data.startTranslate;\r\n\t}\r\n\r\n\tif (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\r\n\t\tdata.currentTranslate = data.startTranslate;\r\n\t}\r\n\r\n\r\n\tif (params.threshold > 0) {\r\n\t\tif (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\r\n\t\t\tif (!data.allowThresholdMove) {\r\n\t\t\t\tdata.allowThresholdMove = true;\r\n\t\t\t\ttouches.startX = touches.currentX;\r\n\t\t\t\ttouches.startY = touches.currentY;\r\n\t\t\t\tdata.currentTranslate = data.startTranslate;\r\n\t\t\t\ttouches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches\r\n\t\t\t\t\t.startY;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdata.currentTranslate = data.startTranslate;\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tif (!params.followFinger || params.cssMode) return;\r\n\r\n\tif (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\r\n\t\tswiper.updateActiveIndex();\r\n\t\tswiper.updateSlidesClasses();\r\n\t}\r\n\r\n\tif (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\r\n\t\tswiper.freeMode.onTouchMove();\r\n\t}\r\n\r\n\tswiper.updateProgress(data.currentTranslate);\r\n\r\n\tswiper.setTranslate(data.currentTranslate);\r\n}\n"]}